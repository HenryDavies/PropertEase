"use strict";var googleMap=googleMap||{},google=google;googleMap.mapSetup=function(){var o=document.getElementById("map-canvas"),e={zoom:13,center:new google.maps.LatLng(51.523342,(-.185542)),mapTypeId:google.maps.MapTypeId.ROADMAP};this.map=new google.maps.Map(o,e),this.getProperties()},googleMap.getProperties=function(){$.get("http://localhost:3000/properties").done(this.loopThroughProperties)},googleMap.loopThroughProperties=function(o){console.log(o,o.properties),$.each(o.properties,function(o,e){setTimeout(function(){console.log(o),googleMap.createMarkerForProperty(e)},1e3*o+1e3)})},googleMap.createMarkerForProperty=function(o){var e=new google.maps.LatLng(o.lat,o.lng),n=new google.maps.Marker({position:e,animation:google.maps.Animation.DROP,map:this.map});this.addInfoWindowForProperty(o,n)},googleMap.addInfoWindowForProperty=function(o,e){var n=this;google.maps.event.addListener(e,"click",function(){n.infoWindow=new google.maps.InfoWindow({content:"\n        <p>"+o.short_description+"</p>\n      "}),n.infoWindow.open(n.map,e)})},$(googleMap.mapSetup.bind(googleMap));